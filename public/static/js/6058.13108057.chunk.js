"use strict";(self.webpackChunkabokisub_recovered=self.webpackChunkabokisub_recovered||[]).push([[6058],{24753(e,t,a){a.d(t,{A:()=>A});var o=a(89379),r=a(80045),n=a(90620),s=a.n(n),l=a(96446),i=a(85865),c=a(88446),d=a(35475),p=a(22698),u=a(70579);const m=["links","activeLast"];function x(e){let{links:t,activeLast:a=!1}=e,n=(0,r.A)(e,m);const s=t[t.length-1].name,c=t.map(e=>(0,u.jsx)(h,{link:e},e.name)),d=t.map(e=>(0,u.jsx)("div",{children:e.name!==s?(0,u.jsx)(h,{link:e}):(0,u.jsx)(i.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:s})},e.name));return(0,u.jsx)(p.A,(0,o.A)((0,o.A)({separator:(0,u.jsx)(l.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},n),{},{children:a?c:d}))}function h(e){let{link:t}=e;const{href:a,name:o,icon:r}=t;return(0,u.jsxs)(c.A,{variant:"body2",component:d.N_,to:a||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[r&&(0,u.jsx)(l.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:r}),o]},o)}const y=["links","action","heading","moreLink","sx"];function A(e){let{links:t,action:a,heading:n,moreLink:d=[],sx:p}=e,m=(0,r.A)(e,y);return(0,u.jsxs)(l.A,{sx:(0,o.A)({mb:5},p),children:[(0,u.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,u.jsxs)(l.A,{sx:{flexGrow:1},children:[(0,u.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:n}),(0,u.jsx)(x,(0,o.A)({links:t},m))]}),a&&(0,u.jsx)(l.A,{sx:{flexShrink:0},children:a})]}),(0,u.jsx)(l.A,{sx:{mt:2},children:s()(d)?(0,u.jsx)(c.A,{href:d,target:"_blank",rel:"noopener",variant:"body2",children:d}):d.map(e=>(0,u.jsx)(c.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e))})]})}},96058(e,t,a){a.r(t),a.d(t,{default:()=>C});var o=a(19252),r=a(48407),n=a(11737),s=a(19838),l=a(24753),i=a(65043),c=a(73023),d=a.n(c),p=a(96446),u=a(81637),m=a(68903),x=a(67254),h=a(12110),y=a(85865),A=a(88911),g=a(74605),v=a(4598),f=a(43845),k=a(84473),b=a(70579);function j(e){let{setting:t}=e;const[a,o]=(0,i.useState)(!0),[r,n]=(0,i.useState)(!1),[s,l]=(0,i.useState)([]),[c,j]=(0,i.useState)(null),w=window.localStorage.getItem("accessToken");(0,i.useEffect)(()=>{C()},[]);const C=async()=>{try{o(!0);const e=await k.A.get("/api/secure/virtualaccounts/locks/".concat(w,"/habukhan/secure"));"success"===e.data.status&&l(e.data.locks)}catch(e){console.error("Error fetching virtual account locks:",e),j("Failed to load virtual account lock settings")}finally{o(!1)}},S=(e,t)=>{const a=s.find(a=>a.provider===e&&a.account_type===t);return!!a&&(!0===a.is_locked||1==a.is_locked)};return a?(0,b.jsx)(p.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,b.jsx)(u.A,{})}):(0,b.jsx)(m.Ay,{container:!0,spacing:3,children:(0,b.jsxs)(m.Ay,{item:!0,xs:12,md:10,children:[c&&(0,b.jsx)(x.A,{severity:"error",sx:{mb:3},children:c}),(0,b.jsxs)(h.A,{sx:{p:3},children:[(0,b.jsx)(y.A,{variant:"h6",gutterBottom:!0,children:"Virtual Account Provider Lock/Unlock"}),(0,b.jsx)(y.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Control which virtual account providers are available to users. Lock providers that are down or experiencing issues. At least one provider must remain unlocked."}),(0,b.jsx)(A.A,{spacing:2.5,children:[{provider:"xixapay",account_type:"palmpay",label:"Xixapay (Palmpay)",description:"Palmpay virtual accounts via Xixapay"},{provider:"xixapay",account_type:"kolomonie",label:"Xixapay (Kolomonie)",description:"Kolomonie virtual accounts via Xixapay"},{provider:"monnify",account_type:"moniepoint",label:"Monnify (Moniepoint)",description:"Moniepoint/Sterling accounts via Monnify"},{provider:"paystack",account_type:"wema",label:"Paystack (Wema)",description:"Dedicated Wema Bank account via Paystack"},{provider:"paymentpoint",account_type:"palmpay",label:"PaymentPoint (Palmpay)",description:"Palmpay virtual accounts via PaymentPoint"}].map(e=>{let{provider:t,account_type:a,label:o,description:l}=e;const i=S(t,a);return(0,b.jsx)(g.A,{control:(0,b.jsx)(v.A,{checked:!i,onChange:()=>(async(e,t)=>{const a=!S(e,t),o=s.filter(e=>!e.is_locked).length;if(a&&1===o)d()("Error","Cannot lock all providers. At least one must remain unlocked.","error");else try{n(!0);const a=await k.A.post("/api/secure/virtualaccounts/locks/toggle/".concat(w,"/habukhan/secure"),{provider:e,account_type:t});"success"===a.data.status&&(await C(),d()("Success",a.data.message,"success"))}catch(i){var r,l;console.error("Error toggling lock:",i),d()("Error",(null===(r=i.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message)||"Failed to update lock status","error")}finally{n(!1)}})(t,a),disabled:r,color:"primary"}),label:(0,b.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsxs)(p.A,{sx:{flex:1},children:[(0,b.jsx)(y.A,{variant:"subtitle1",children:o}),(0,b.jsx)(y.A,{variant:"caption",color:"text.secondary",children:l})]}),(0,b.jsx)(f.A,{label:i?"Locked":"Active",color:i?"error":"success",size:"small",variant:"outlined"})]})},"".concat(t,"_").concat(a))})}),(0,b.jsx)(x.A,{severity:"info",sx:{mt:3},children:(0,b.jsxs)(y.A,{variant:"body2",children:[(0,b.jsx)("strong",{children:"Note:"})," Changes take effect immediately. Locked providers will not appear in the Fund Wallet screen. Users will only see unlocked virtual account options."]})}),(0,b.jsx)(x.A,{severity:"warning",sx:{mt:2},children:(0,b.jsxs)(y.A,{variant:"body2",children:[(0,b.jsx)("strong",{children:"Tip:"})," Both Xixapay and PaymentPoint offer Palmpay accounts. If one provider is down, you can lock it and keep the other active as a backup."]})})]})]})})}var w=a(30342);function C(){const{themeStretch:e}=(0,n.A)(),{setting:t}=(0,w.A)();return(0,b.jsx)(s.A,{title:"Admin || Virtual Account Lock/Unlock",children:(0,b.jsxs)(o.A,{maxWidth:!e&&"lg",children:[(0,b.jsx)(l.A,{heading:"Virtual Account Lock/Unlock",links:[{name:"Dashboard",href:r.mB.root},{name:"Lock/Unlock Virtual Accounts"}]}),(0,b.jsx)(j,{setting:null===t||void 0===t?void 0:t.setting})]})})}},22698(e,t,a){a.d(t,{A:()=>B});var o=a(58168),r=a(98587),n=a(65043),s=a(58387),l=a(98610),i=a(88092),c=a(34535),d=a(98206),p=a(85865),u=a(67266),m=a(66734),x=a(70579);const h=(0,m.A)((0,x.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var y=a(72949);const A=["slots","slotProps"],g=(0,c.Ay)(y.A,{name:"MuiBreadcrumbCollapsed"})(e=>{let{theme:t}=e;return(0,o.A)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,o.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,o.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,u.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,u.tL)(t.palette.grey[600],.12)})})}),v=(0,c.Ay)(h)({width:24,height:16});const f=function(e){const{slots:t={},slotProps:a={}}=e,n=(0,r.A)(e,A),s=e;return(0,x.jsx)("li",{children:(0,x.jsx)(g,(0,o.A)({focusRipple:!0},n,{ownerState:s,children:(0,x.jsx)(v,(0,o.A)({as:t.CollapsedIcon,ownerState:s},a.collapsedIcon))}))})};var k=a(92532),b=a(72372);function j(e){return(0,b.Ay)("MuiBreadcrumbs",e)}const w=(0,k.A)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],S=(0,c.Ay)(p.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(w.li)]:t.li},t.root]})({}),P=(0,c.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),I=(0,c.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function _(e,t,a,o){return e.reduce((r,n,s)=>(s<e.length-1?r=r.concat(n,(0,x.jsx)(I,{"aria-hidden":!0,className:t,ownerState:o,children:a},"separator-".concat(s))):r.push(n),r),[])}const B=n.forwardRef(function(e,t){const a=(0,d.b)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:p,component:u="nav",slots:m={},slotProps:h={},expandText:y="Show path",itemsAfterCollapse:A=1,itemsBeforeCollapse:g=1,maxItems:v=8,separator:k="/"}=a,b=(0,r.A)(a,C),[w,I]=n.useState(!1),B=(0,o.A)({},a,{component:u,expanded:w,expandText:y,itemsAfterCollapse:A,itemsBeforeCollapse:g,maxItems:v,separator:k}),L=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},j,t)})(B),M=(0,i.A)({elementType:m.CollapsedIcon,externalSlotProps:h.collapsedIcon,ownerState:B}),R=n.useRef(null),N=n.Children.toArray(c).filter(e=>n.isValidElement(e)).map((e,t)=>(0,x.jsx)("li",{className:L.li,children:e},"child-".concat(t)));return(0,x.jsx)(S,(0,o.A)({ref:t,component:u,color:"text.secondary",className:(0,s.A)(L.root,p),ownerState:B},b,{children:(0,x.jsx)(P,{className:L.ol,ref:R,ownerState:B,children:_(w||v&&N.length<=v?N:(e=>g+A>=e.length?e:[...e.slice(0,g),(0,x.jsx)(f,{"aria-label":y,slots:{CollapsedIcon:m.CollapsedIcon},slotProps:{collapsedIcon:M},onClick:()=>{I(!0);const e=R.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-A,e.length)])(N),L.separator,k,B)})}))})}}]);
//# sourceMappingURL=6058.13108057.chunk.js.map