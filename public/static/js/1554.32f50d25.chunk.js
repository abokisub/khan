"use strict";(self.webpackChunkabokisub_recovered=self.webpackChunkabokisub_recovered||[]).push([[1554],{24753(e,t,a){a.d(t,{A:()=>A});var r=a(89379),o=a(80045),s=a(90620),l=a.n(s),n=a(96446),i=a(85865),c=a(88446),d=a(35475),p=a(22698),u=a(70579);const x=["links","activeLast"];function m(e){let{links:t,activeLast:a=!1}=e,s=(0,o.A)(e,x);const l=t[t.length-1].name,c=t.map(e=>(0,u.jsx)(h,{link:e},e.name)),d=t.map(e=>(0,u.jsx)("div",{children:e.name!==l?(0,u.jsx)(h,{link:e}):(0,u.jsx)(i.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:l})},e.name));return(0,u.jsx)(p.A,(0,r.A)((0,r.A)({separator:(0,u.jsx)(n.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},s),{},{children:a?c:d}))}function h(e){let{link:t}=e;const{href:a,name:r,icon:o}=t;return(0,u.jsxs)(c.A,{variant:"body2",component:d.N_,to:a||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[o&&(0,u.jsx)(n.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:o}),r]},r)}const y=["links","action","heading","moreLink","sx"];function A(e){let{links:t,action:a,heading:s,moreLink:d=[],sx:p}=e,x=(0,o.A)(e,y);return(0,u.jsxs)(n.A,{sx:(0,r.A)({mb:5},p),children:[(0,u.jsxs)(n.A,{sx:{display:"flex",alignItems:"center"},children:[(0,u.jsxs)(n.A,{sx:{flexGrow:1},children:[(0,u.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:s}),(0,u.jsx)(m,(0,r.A)({links:t},x))]}),a&&(0,u.jsx)(n.A,{sx:{flexShrink:0},children:a})]}),(0,u.jsx)(n.A,{sx:{mt:2},children:l()(d)?(0,u.jsx)(c.A,{href:d,target:"_blank",rel:"noopener",variant:"body2",children:d}):d.map(e=>(0,u.jsx)(c.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e))})]})}},91554(e,t,a){a.r(t),a.d(t,{default:()=>_});var r=a(19252),o=a(48407),s=a(11737),l=a(19838),n=a(24753),i=a(65043),c=a(73023),d=a.n(c),p=a(96446),u=a(81637),x=a(68903),m=a(67254),h=a(12110),y=a(53193),A=a(51292),v=a(85865),f=a(57972),g=a(74605),b=a(14256),j=a(43845),k=a(84473),w=a(70579);function S(e){let{setting:t}=e;const[a,r]=(0,i.useState)(!0),[o,s]=(0,i.useState)(!1),[l,n]=(0,i.useState)([]),[c,S]=(0,i.useState)(""),[C,_]=(0,i.useState)(null),I=window.localStorage.getItem("accessToken");(0,i.useEffect)(()=>{P()},[]);const P=async()=>{try{r(!0);const[e,t]=await Promise.all([k.A.get("/api/secure/virtualaccounts/locks/".concat(I,"/habukhan/secure")),k.A.get("/api/secure/virtualaccounts/status")]);"success"===e.data.status&&n(e.data.locks),"success"===t.data.status&&S(t.data.default_provider_key||"xixapay_palmpay")}catch(e){console.error("Error fetching virtual account status:",e),_("Failed to load virtual account settings")}finally{r(!1)}},B=(e,t)=>{const a=l.find(a=>a.provider===e&&a.account_type===t);return!!a&&a.is_locked};return a?(0,w.jsx)(p.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,w.jsx)(u.A,{})}):(0,w.jsx)(x.Ay,{container:!0,spacing:3,children:(0,w.jsxs)(x.Ay,{item:!0,xs:12,md:10,children:[C&&(0,w.jsx)(m.A,{severity:"error",sx:{mb:3},children:C}),(0,w.jsxs)(h.A,{sx:{p:3},children:[(0,w.jsxs)(y.A,{component:"fieldset",fullWidth:!0,children:[(0,w.jsxs)(A.A,{component:"legend",children:[(0,w.jsx)(v.A,{variant:"h6",gutterBottom:!0,children:"Default Virtual Account Provider"}),(0,w.jsx)(v.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Select which virtual account will be displayed on the user's dashboard balance card by default. Only unlocked providers can be selected."})]}),(0,w.jsx)(f.A,{value:c,onChange:async e=>{const t=e.target.value,[a,r]=t.split("_");if(B(a,r))d()("Error","Cannot set a locked provider as default. Please unlock it first.","error");else try{s(!0),await k.A.post("/api/secure/selection/virtualaccounts/".concat(I,"/habukhan/secure"),{default_provider:a,default_account_type:r}),S(t),d()("Success","Default provider set to ".concat(a.charAt(0).toUpperCase()+a.slice(1)," (").concat(r,")"),"success")}catch(n){var o,l;console.error("Error setting default provider:",n),d()("Error",(null===(o=n.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message)||"Failed to set default provider","error")}finally{s(!1)}},children:(0,w.jsx)(x.Ay,{container:!0,spacing:2,children:[{provider:"xixapay",account_type:"palmpay",label:"Xixapay (Palmpay)",value:"xixapay_palmpay"},{provider:"xixapay",account_type:"kolomonie",label:"Xixapay (Kolomonie)",value:"xixapay_kolomonie"},{provider:"monnify",account_type:"moniepoint",label:"Monnify (Moniepoint)",value:"monnify_moniepoint"},{provider:"paystack",account_type:"wema",label:"Paystack (Wema)",value:"paystack_wema"},{provider:"paymentpoint",account_type:"palmpay",label:"PaymentPoint (Palmpay)",value:"paymentpoint_palmpay"}].map(e=>{let{provider:t,account_type:a,label:r,value:s}=e;const l=B(t,a);return(0,w.jsx)(x.Ay,{item:!0,xs:12,children:(0,w.jsx)(g.A,{value:s,control:(0,w.jsx)(b.A,{disabled:o||l}),label:(0,w.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,w.jsxs)(p.A,{children:[(0,w.jsx)(v.A,{variant:"subtitle1",children:r}),l&&(0,w.jsx)(v.A,{variant:"caption",color:"error",children:"(Locked - Unlock first)"})]}),l&&(0,w.jsx)(j.A,{label:"Locked",size:"small",color:"error",variant:"outlined",sx:{ml:1}})]}),sx:{p:1,border:"1px solid",borderColor:c===s?"primary.main":"divider",borderRadius:1,mx:0,width:"100%",bgcolor:c===s?"action.selected":"transparent"}})},s)})})})]}),(0,w.jsx)(m.A,{severity:"info",sx:{mt:3},children:(0,w.jsxs)(v.A,{variant:"body2",children:[(0,w.jsx)("strong",{children:"Note:"})," The selected provider's account will be displayed on the user's dashboard. Changes take effect immediately."]})})]})]})})}var C=a(30342);function _(){const{themeStretch:e}=(0,s.A)(),{setting:t}=(0,C.A)();return(0,w.jsx)(l.A,{title:"Admin || Virtual Account Selection",children:(0,w.jsxs)(r.A,{maxWidth:!e&&"lg",children:[(0,w.jsx)(n.A,{heading:"Virtual Account Default Selection",links:[{name:"Dashboard",href:o.mB.root},{name:"Virtual Account Selection"}]}),(0,w.jsx)(S,{setting:null===t||void 0===t?void 0:t.setting})]})})}},22698(e,t,a){a.d(t,{A:()=>B});var r=a(58168),o=a(98587),s=a(65043),l=a(58387),n=a(98610),i=a(88092),c=a(34535),d=a(98206),p=a(85865),u=a(67266),x=a(66734),m=a(70579);const h=(0,x.A)((0,m.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var y=a(72949);const A=["slots","slotProps"],v=(0,c.Ay)(y.A,{name:"MuiBreadcrumbCollapsed"})(e=>{let{theme:t}=e;return(0,r.A)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,r.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,r.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,u.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,u.tL)(t.palette.grey[600],.12)})})}),f=(0,c.Ay)(h)({width:24,height:16});const g=function(e){const{slots:t={},slotProps:a={}}=e,s=(0,o.A)(e,A),l=e;return(0,m.jsx)("li",{children:(0,m.jsx)(v,(0,r.A)({focusRipple:!0},s,{ownerState:l,children:(0,m.jsx)(f,(0,r.A)({as:t.CollapsedIcon,ownerState:l},a.collapsedIcon))}))})};var b=a(92532),j=a(72372);function k(e){return(0,j.Ay)("MuiBreadcrumbs",e)}const w=(0,b.A)("MuiBreadcrumbs",["root","ol","li","separator"]),S=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=(0,c.Ay)(p.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(w.li)]:t.li},t.root]})({}),_=(0,c.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),I=(0,c.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function P(e,t,a,r){return e.reduce((o,s,l)=>(l<e.length-1?o=o.concat(s,(0,m.jsx)(I,{"aria-hidden":!0,className:t,ownerState:r,children:a},"separator-".concat(l))):o.push(s),o),[])}const B=s.forwardRef(function(e,t){const a=(0,d.b)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:p,component:u="nav",slots:x={},slotProps:h={},expandText:y="Show path",itemsAfterCollapse:A=1,itemsBeforeCollapse:v=1,maxItems:f=8,separator:b="/"}=a,j=(0,o.A)(a,S),[w,I]=s.useState(!1),B=(0,r.A)({},a,{component:u,expanded:w,expandText:y,itemsAfterCollapse:A,itemsBeforeCollapse:v,maxItems:f,separator:b}),R=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},k,t)})(B),M=(0,i.A)({elementType:x.CollapsedIcon,externalSlotProps:h.collapsedIcon,ownerState:B}),L=s.useRef(null),N=s.Children.toArray(c).filter(e=>s.isValidElement(e)).map((e,t)=>(0,m.jsx)("li",{className:R.li,children:e},"child-".concat(t)));return(0,m.jsx)(C,(0,r.A)({ref:t,component:u,color:"text.secondary",className:(0,l.A)(R.root,p),ownerState:B},j,{children:(0,m.jsx)(_,{className:R.ol,ref:L,ownerState:B,children:P(w||f&&N.length<=f?N:(e=>v+A>=e.length?e:[...e.slice(0,v),(0,m.jsx)(g,{"aria-label":y,slots:{CollapsedIcon:x.CollapsedIcon},slotProps:{collapsedIcon:M},onClick:()=>{I(!0);const e=L.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-A,e.length)])(N),R.separator,b,B)})}))})}}]);
//# sourceMappingURL=1554.32f50d25.chunk.js.map